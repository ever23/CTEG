!function(t){function e(t,a,r){return-1!=r.indexOf(t)?e(t,a,r.replace(t,a)):r}function a(t){window.console.log(t)}function r(e,a){var r=0;return t.each(e,function(t){r+=t==a}),0==r?!1:!0}t.fn.FmtIdentificacion=function(e,i){var o=t.FmtIdentificacion.OptionDefault;void 0!=i&&(void 0!=i.tipos&&(o.tipos=t.extend(o.tipos,i.tipos)),void 0!=i.cssmsj&&(o.cssmsj=t.extend(o.cssmsj,i.cssmsj)));var n=r(o.tipos,e);return this.each(function(){var i=t(this);if(i.data("FmtIdentificacionOption",o),n)i.attr("maxlength",o.tipos[e].maxlength),i.data("CodiTide",e);else{i.data("CodiTide",t(e).val()),i.attr("maxlength",i.data("FmtIdentificacionOption").tipos[i.data("CodiTide")].maxlength),t(e).change(function(){var e=i.val(),o="Default",n=i.data("FmtIdentificacionOption");r(n.tipos,t(this).val())&&(o=t(this).val()),i.data("CodiTide",o),void 0==n.tipos[o].fmt&&(o="Default");try{i.attr("maxlength",n.tipos[o].maxlength),e=n.tipos[o].fmt(i.val())}catch(s){a(s)}i.val(e)})}var s=function(){var t,e=i.data("FmtIdentificacionOption");t=void 0!=i.data("CodiTide")?i.data("CodiTide"):"Default";var r=i.val();void 0==e.tipos[t].fmt&&(t="Default");try{r=e.tipos[t].fmt(i.val())}catch(o){a(o)}i.val(r)};i.keyup(s).focusout(s),i.closest("form").bind("submit",function(t){i.val().length>0&&!i.ValidIdentificacion()&&(t.preventDefault(),i.IdentificacionInvalida())})})},t.fn.IdentificacionInvalida=function(e,r){var i=t("<div></div>"),o=t(this),n=o.data("FmtIdentificacionOption");t.extend(n.cssmsj,r);var s=o.data("CodiTide"),l=function(){i.remove()},c=o.position();if(i.css(n.cssmsj),void 0==e){void 0==n.tipos[s].msj&&(s="Default");try{i.html(n.tipos[s].msj)}catch(u){a(u)}}else i.html(e);c.top+=o.innerHeight()+4,c.left+=o.innerWidth()/2,i.css(c),o.after(i).focus().focusout(l).keyup(l)},t.fn.ValidIdentificacion=function(e){var r,i,o=t(this),n=!1;i=void 0==e?void 0!=o.data("CodiTide")?o.data("CodiTide"):"Default":e;var s=o.data("FmtIdentificacionOption");void 0==s&&(s=t.FmtIdentificacion.OptionDefault);try{o.val(void 0==s.tipos[i].fmt?s.tipos.Default.fmt(o.val()):s.tipos[i].fmt(o.val())),r=o.val(),n=void 0==s.tipos[i].valid?s.tipos.Default.valid(r):s.tipos[i].valid(r)}catch(l){a(l)}return n},t.FmtIdentificacion={FmtCi:function(t){var a=t;if(a=e("-","",a),a.length<=9&&-1!=a.indexOf(".")){if(-1!=a.indexOf(".")&&1!=a.indexOf(".")&&7!=a.indexOf(".")&&(a=e(".","",a)),a.length>0&&1!=a.indexOf("."))var r=a.substr(0,1)+".",i=a.substr(1,a.length);else var r=a.substr(0,2),i=a.substr(2,a.length);if(a.length>5&&3!=i.indexOf(".")){var o=i.substr(0,3)+".",n=i.substr(3,i.length);i=o+n}a=r+i}else{if(2!=a.indexOf(".")&&8!=a.indexOf(".")&&-1!=a.indexOf(".")&&(a=e(".","",a)),a.length>2&&2!=a.indexOf("."))var r=a.substr(0,2)+".",i=a.substr(2,a.length);else var r=a.substr(0,3),i=a.substr(3,a.length);if(a.length>6&&3!=i.indexOf("."))var i=i.substr(0,3)+"."+i.substr(3,i.length);a=r+i}return a.length>10&&(a=a.slice(0,10)),a},Fmt:function(t){var a=t;if(a=e(".","",a),a.length<=9){if(8!=a.indexOf("-")&&-1!=a.indexOf("-")&&(a=e("-","",a)),a.length>6&&7!=a.indexOf("-")){var r=a.substr(0,7),i=a.substr(7,a.length);a=r+"-"+i}}else 8!=a.indexOf("-")&&-1!=a.indexOf("-")&&(a=e("-","",a)),a.length>7&&8!=a.indexOf("-")&&(a=a.substr(0,8)+"-"+a.substr(8,a.length));return a.length>10&&(a=a.slice(0,10)),a},ValidDefault:function(a){var r=e("-","",a),r=e(".","",r);return 9!=a.length&&10!=a.length||!t.isNumeric(r)?!1:!0}},t.FmtIdentificacion.OptionDefault={tipos:{"C.I-":{fmt:t.FmtIdentificacion.FmtCi,valid:t.FmtIdentificacion.ValidDefault,msj:"LA CEDULA ES INVALIDA",maxlength:10},"C.I":{fmt:t.FmtIdentificacion.FmtCi,valid:t.FmtIdentificacion.ValidDefault,msj:"LA CEDULA ES INVALIDA",maxlength:10},Default:{fmt:t.FmtIdentificacion.Fmt,valid:t.FmtIdentificacion.ValidDefault,msj:"LA IDENTIFICACION ES INVALIDA",maxlength:10}},cssmsj:{width:"149px",display:"block","border-radius":"5px","background-color":"rgba(255,255,255,1.00)","min-width":"36px",position:"absolute","font-size":"10px",border:"1px ","border-color":"rgba(255,200,96,1.00)","border-style":"ridge","z-index":200}}}(jQuery);